---
http_interactions:
- request:
    method: get
    uri: "<DNSIMPLE_BASE_URL>/v2/<DNSIMPLE_ACCOUNT_ID>/zones/dns-scratch.me/records?page=1&per_page=100"
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      User-Agent:
      - dnsimple-ruby/4.4.0
      Authorization:
      - Bearer <DNSIMPLE_API_TOKEN>
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Fri, 12 Nov 2021 21:20:01 GMT
      Content-Type:
      - application/json; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      X-Ratelimit-Limit:
      - '2400'
      X-Ratelimit-Remaining:
      - '2390'
      X-Ratelimit-Reset:
      - '1636752080'
      X-Work-With-Us:
      - Love automation? So do we! https://dnsimple.com/jobs
      Etag:
      - W/"2ff2c84d38c038aea13d124651166965"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 4ac69e2d-b062-4ee7-bbc4-515dc84ec179
      X-Runtime:
      - '0.024640'
      X-Frame-Options:
      - DENY
      X-Content-Type-Options:
      - nosniff
      X-Xss-Protection:
      - 1; mode=block
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Content-Security-Policy:
      - frame-ancestors 'none'
      Strict-Transport-Security:
      - max-age=31536000
    body:
      encoding: ASCII-8BIT
      string: '{"data":[{"id":347564,"zone_id":"dns-scratch.me","parent_id":null,"name":"","content":"ns1.dnsimple.com
        admin.dnsimple.com 1519152763 86400 7200 604800 300","ttl":3600,"priority":null,"type":"SOA","regions":["global"],"system_record":true,"created_at":"2018-02-20T18:51:04Z","updated_at":"2021-11-12T20:51:11Z"},{"id":347565,"zone_id":"dns-scratch.me","parent_id":null,"name":"","content":"ns1.dnsimple.com","ttl":3600,"priority":null,"type":"NS","regions":["global"],"system_record":true,"created_at":"2018-02-20T18:51:04Z","updated_at":"2018-02-20T18:51:04Z"},{"id":347566,"zone_id":"dns-scratch.me","parent_id":null,"name":"","content":"ns2.dnsimple.com","ttl":3600,"priority":null,"type":"NS","regions":["global"],"system_record":true,"created_at":"2018-02-20T18:51:04Z","updated_at":"2018-02-20T18:51:04Z"},{"id":347567,"zone_id":"dns-scratch.me","parent_id":null,"name":"","content":"ns3.dnsimple.com","ttl":3600,"priority":null,"type":"NS","regions":["global"],"system_record":true,"created_at":"2018-02-20T18:51:04Z","updated_at":"2018-02-20T18:51:04Z"},{"id":347568,"zone_id":"dns-scratch.me","parent_id":null,"name":"","content":"ns4.dnsimple.com","ttl":3600,"priority":null,"type":"NS","regions":["global"],"system_record":true,"created_at":"2018-02-20T18:51:04Z","updated_at":"2018-02-20T18:51:04Z"},{"id":347593,"zone_id":"dns-scratch.me","parent_id":null,"name":"test-record","content":"10.10.10.42","ttl":86400,"priority":null,"type":"A","regions":["global"],"system_record":false,"created_at":"2018-02-20T19:41:59Z","updated_at":"2018-02-20T19:41:59Z"},{"id":347594,"zone_id":"dns-scratch.me","parent_id":null,"name":"","content":"dns-scratch.herokuapp.com","ttl":86400,"priority":null,"type":"ALIAS","regions":["global"],"system_record":false,"created_at":"2018-02-20T19:42:00Z","updated_at":"2018-02-20T19:42:00Z"},{"id":934857,"zone_id":"dns-scratch.me","parent_id":null,"name":"cname","content":"0
        issue \"digicert.com\"","ttl":3600,"priority":null,"type":"CAA","regions":["global"],"system_record":false,"created_at":"2019-03-13T13:23:46Z","updated_at":"2019-03-13T13:23:46Z"},{"id":1714861,"zone_id":"dns-scratch.me","parent_id":null,"name":"_sshfp1","content":"4
        2 4e0ebbeac8d2e4e73af888b20e2243e5a2a08bad6476c832c985e54b21eff4a3","ttl":3600,"priority":null,"type":"SSHFP","regions":["global"],"system_record":false,"created_at":"2020-04-16T00:37:40Z","updated_at":"2020-04-16T00:37:40Z"},{"id":2429818,"zone_id":"dns-scratch.me","parent_id":null,"name":"inconsistent-records","content":"shopify.com","ttl":60,"priority":null,"type":"CNAME","regions":["global"],"system_record":false,"created_at":"2021-11-12T20:51:11Z","updated_at":"2021-11-12T20:51:11Z"}],"pagination":{"current_page":1,"per_page":100,"total_entries":10,"total_pages":1}}'
    http_version:
  recorded_at: Fri, 12 Nov 2021 21:20:01 GMT
- request:
    method: delete
    uri: "<DNSIMPLE_BASE_URL>/v2/<DNSIMPLE_ACCOUNT_ID>/zones/dns-scratch.me/records/2429818"
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      User-Agent:
      - dnsimple-ruby/4.4.0
      Authorization:
      - Bearer <DNSIMPLE_API_TOKEN>
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 204
      message: No Content
    headers:
      Server:
      - nginx
      Date:
      - Fri, 12 Nov 2021 21:20:01 GMT
      Connection:
      - keep-alive
      X-Ratelimit-Limit:
      - '2400'
      X-Ratelimit-Remaining:
      - '2389'
      X-Ratelimit-Reset:
      - '1636752080'
      X-Work-With-Us:
      - Love automation? So do we! https://dnsimple.com/jobs
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 0aec064e-b62d-4e2e-9d13-e330f1dd061d
      X-Runtime:
      - '0.102828'
      X-Frame-Options:
      - DENY
      X-Content-Type-Options:
      - nosniff
      X-Xss-Protection:
      - 1; mode=block
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Content-Security-Policy:
      - frame-ancestors 'none'
      Strict-Transport-Security:
      - max-age=31536000
    body:
      encoding: UTF-8
      string: ''
    http_version:
  recorded_at: Fri, 12 Nov 2021 21:20:01 GMT
- request:
    method: post
    uri: "<DNSIMPLE_BASE_URL>/v2/<DNSIMPLE_ACCOUNT_ID>/zones/dns-scratch.me/records"
    body:
      encoding: UTF-8
      string: '{"name":"inconsistent-records","ttl":60,"type":"CNAME","content":"shopify.com"}'
    headers:
      Accept:
      - application/json
      User-Agent:
      - dnsimple-ruby/4.4.0
      Authorization:
      - Bearer <DNSIMPLE_API_TOKEN>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Server:
      - nginx
      Date:
      - Fri, 12 Nov 2021 21:20:02 GMT
      Content-Type:
      - application/json; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      X-Ratelimit-Limit:
      - '2400'
      X-Ratelimit-Remaining:
      - '2388'
      X-Ratelimit-Reset:
      - '1636752080'
      X-Work-With-Us:
      - Love automation? So do we! https://dnsimple.com/jobs
      Etag:
      - W/"ebd28fb9506f812e754262592f6acb9a"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 19fcd99c-ef8d-4269-9042-9deccd5580c7
      X-Runtime:
      - '0.077037'
      X-Frame-Options:
      - DENY
      X-Content-Type-Options:
      - nosniff
      X-Xss-Protection:
      - 1; mode=block
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Content-Security-Policy:
      - frame-ancestors 'none'
      Strict-Transport-Security:
      - max-age=31536000
    body:
      encoding: UTF-8
      string: '{"data":{"id":2429967,"zone_id":"dns-scratch.me","parent_id":null,"name":"inconsistent-records","content":"shopify.com","ttl":60,"priority":null,"type":"CNAME","regions":["global"],"system_record":false,"created_at":"2021-11-12T21:20:02Z","updated_at":"2021-11-12T21:20:02Z"}}'
    http_version:
  recorded_at: Fri, 12 Nov 2021 21:20:02 GMT
- request:
    method: post
    uri: "<DNSIMPLE_BASE_URL>/v2/<DNSIMPLE_ACCOUNT_ID>/zones/dns-scratch.me/records"
    body:
      encoding: UTF-8
      string: '{"name":"inconsistent-records","ttl":60,"type":"TXT","content":"a"}'
    headers:
      Accept:
      - application/json
      User-Agent:
      - dnsimple-ruby/4.4.0
      Authorization:
      - Bearer <DNSIMPLE_API_TOKEN>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Server:
      - nginx
      Date:
      - Fri, 12 Nov 2021 21:20:02 GMT
      Content-Type:
      - application/json; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      X-Ratelimit-Limit:
      - '2400'
      X-Ratelimit-Remaining:
      - '2387'
      X-Ratelimit-Reset:
      - '1636752080'
      X-Work-With-Us:
      - Love automation? So do we! https://dnsimple.com/jobs
      Cache-Control:
      - no-cache
      X-Request-Id:
      - df934424-18dd-4a22-bf56-d8c188ce70a1
      X-Runtime:
      - '0.032389'
      X-Frame-Options:
      - DENY
      X-Content-Type-Options:
      - nosniff
      X-Xss-Protection:
      - 1; mode=block
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Content-Security-Policy:
      - frame-ancestors 'none'
    body:
      encoding: UTF-8
      string: '{"message":"Validation failed","errors":{"base":["A CNAME record exists
        for inconsistent-records.dns-scratch.me, cannot add another record"]}}'
    http_version:
  recorded_at: Fri, 12 Nov 2021 21:20:02 GMT
recorded_with: VCR 5.0.0
