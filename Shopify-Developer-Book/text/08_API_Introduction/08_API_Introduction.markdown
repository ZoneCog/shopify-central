## The Shopify API ##

One of the most interesting features of Internet computing that has evolved since the 1990's has been the introduction and growth of service-oriented companies that work strictly using Internet protocols. YouTube, Twitter, Facebook, Shopify and multitudes of other companies that are run from brick and mortar headquarters, have relatively small employee headcounts but count millions and perhaps billions of users. Little of their success can be attributed to knocking from door-to-door or through TV advertising. Service-oriented companies leverage the Internet itself for their growth. One of the underlying reasons for their rapid growth, adoption and success is due the concept of the public Application Programming Interface (API).

What better way to introduce a service to the public than to allow them to build it, populate it and enjoy it by using their own labour and tools. YouTube, Facebook and Twitter would not exist without user generated content. But how do you ensure that everyone can contribute to your service without being overly technical or specialized? How do you accept a video from an iPhone or Android phone, an iPad or Galaxy Tablet, a Mac or a PC? The key is the use and promotion of an API. An API provides a simple mechanism that everyone can take advantage of.

Shopify released their API platform after some years of processing a steadily growing (or perhaps explosive) number of transactions. During this period, Shopify learned not only the intimate details of what happens when millions of dollars flow through Internet cash registers but also the huge number of possibilities and limitations that can be faced by a single codebase. Once the early adopters crossed the chasm and became profitable enterprises, there was a corresponding demand and need for introducing better order processing.

The API platform uses software architecture known as **RE**presentational **S**tate **T**ransfer (REST). REST is accepted by a majority of the Internet community. The API provides support for merchants to create, read, update or delete all of the resources of their shop, like products. One current limitation is that you cannot programmatically create an order because of security concerns around credit card numbers. Almost all ecommerce companies offer some sort of API but there is clearly a difference in the degree of maturity and the amount of thought that has gone into some of them. The Shopify API is proving to be very helpful for merchants that need advanced capabilities. Whenever the general question is asked, "Can Shopify do such and such?", the right answer to the question is usually, "Yes, it can. You need to use the API for that custom feature."

Shopify has established a hosted ecommerce platform, transacting hundreds of millions of dollars per year for tens of thousands of merchants. If all of the features that merchants demanded were added to the core of Shopify, the platform would become unstable and prone to outages, breakdowns and a destroyed reputation for reliability. Developers would have to become familiar with a constantly changing system. By offering an API built around a core set of resources, Shopify has enabled an ecosystem of app developers to come together and create unique and necessary offerings, which make running an ecommerce shop on the Shopify platform easier for merchants. Developers need only learn the API and then they can apply their knowledge to any shop, for any merchant.

A good example of extending a shop for a merchant, is when fulfilling an order using the API and an app. Shopify has an option allowing a merchant to select from a few fulfillment companies. What happens when you check out that short list and you do not see an acceptable option? Your supply chain beginning from manufacturer DrubbleZook to warehouse Zingoblork, with the US Postal Service or Royal Mail, is simply not there. But you know every single order can be sent to an app. You know you can select up to 250 orders at once and send them all to an app. So surely an app can be built to automatically handle the fulfillments. 

An app running in the cloud is listening for incoming orders, 24/7. When it gets an order, it robotically follows a set of instructions that ensures that the merchant is happy. The app takes the order apart and inspects it. The app knows where each line item is to be sent. It knows the ID of every variant and whether a discount code was used. It knows the credit card issuer. The app can take the order details and format it for Zingoblork and their special needs in a special XML format just for them. It is 2012 and the Zingoblork warehouse system runs off of any of the following data exchange mechanisms:

* A Microsoft DOS server connected to the Internet by FTP. They only accept CSV files via FTP.
* A Microsoft NT Server connected to the Internet by sFTP. They only accept CSV files via sFTP.
* Email. The company can only deal with email. They have been around forty years and it's all email, all the time.
* HTTP POST. A modern miracle! A warehouse fulfillment company that actually has modern infrastructure!
* EDI which we won't even bother to describe, but suffice it to say, it is the Chevy Vega of exchanges.
* SOAP protocol for those who would rather wash the car with a toothbrush.

The app receives fresh orders thanks to the API and WebHooks. It processes them and sends them off to the fulfillment company. Once the fulfillment company has accepted the order(s) and sent them off to their final destination as a delivery, the customer needs to know. Some companies will collect all the orders they process for a shop and create a daily manifest of tracking codes assigned to the orders. Then, they will place those in a holding pen accessible only by a special FTP account. Others will send the tracking numbers to the merchant via email, completely destroying the merchant's email inbox and sanity in the process. The best fulfillment companies will send the tracking numbers and order ID directly back to the app. This allows the app to use the tracking number to automatically create a fulfillment using the API. Shopify automatically detects the creation of a fulfillment and sends the appropriate email. This is wonderful since the app and the API together can close the loop automatically. Once fulfilled, the app closes the order and the merchant has not lifted a finger.

Without an API, it would be difficult to offer this level of customization to a merchant. Another interesting use of Shopify is when a merchant sells products on a consignment basis for external vendors. If a merchant accepts 1000 widgets to sell for $20 each, the vendor wants to know if the shop made $20, $400 or even $4000 in sales. If the merchant accepts 1000 widgets to sell on behalf of 20 or 30 different vendors, his merchant life will almost certainly be miserable unless the API is used to facilitate the necessary reporting. An app records each and every line item sold as a Sale that is assigned to the vendor. Every product has a selling price and a cost price. The difference between those is the profit that will be split between the merchant and the vendor(s). The deal with the vendors is to give them an 80/20 or perhaps 60/40 split on profits. That percentage can be assigned to each sale so that different deals can be made depending on the day of the week, the colour of the sky or the popularity of the product. This is an app that can be plugged into a shop today. None of this would be possible without the API. 

The presence and functionality of the Shopify API is a crucial decision to consider before going into business with the Shopify platform. If a merchant knows that their annual fixed costs are $1000 and that their theme will cost $5000, the API is the only other option that deserves attention. Adding an app can add to the cost of running a shop, but can also save hundreds of hours in manual labour. While paying for the development of a custom app can cost a few thousand dollars, it can result in measurable sales growth. Many companies are looking for a reliable hosted ecommerce platform, as well as partners to help bring their ecommerce vision to life. The presence and capabilities of the Shopify API is enough incentive to choose Shopify over competing platforms. 

